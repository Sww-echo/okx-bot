# å‰ç«¯æ§åˆ¶é¢æ¿ â€” å®æ–½è®¡åˆ’

## è®¾è®¡ç³»ç»Ÿ (via ui-ux-pro-max)

| é¡¹ç›® | å€¼ |
|:---|:---|
| é£æ ¼ | Dark Mode (OLED) |
| ä¸»è‰² | `#F59E0B` (é‡‘è‰²/ä¿¡ä»») |
| å¼ºè°ƒè‰² | `#8B5CF6` (ç´«è‰²/CTA) |
| èƒŒæ™¯ | `#0F172A` (æ·±è“é»‘) |
| æ–‡å­— | `#F8FAFC` (äº®ç™½) |
| æ ‡é¢˜å­—ä½“ | Orbitron (ç§‘æŠ€æ„Ÿ) |
| æ­£æ–‡å­—ä½“ | Exo 2 (å¯è¯»æ€§) |
| å›¾æ ‡ | Lucide React (SVG) |
| å›¾è¡¨ | Recharts (è¶‹åŠ¿/ä½™é¢æ›²çº¿) |

> [!NOTE]
> å®Œæ•´è®¾è®¡è§„èŒƒå·²æŒä¹…åŒ–åˆ° [MASTER.md](file:///c:/Users/sww/Desktop/project/okx-bot/design-system/okx-bot-control-panel/MASTER.md)

---

## æŠ€æœ¯æ¶æ„

```mermaid
graph LR
    A["Frontend<br/>Vite + React<br/>okx-bot/frontend/"] -->|fetch /api/*| B["Bot API<br/>aiohttp :58181<br/>src/web/server.py"]
    B --> C["MAStrategy"]
    B --> D["Backtester"]
    B --> E[".env Config"]
    F["Nginx :80"] -->|/| G["frontend/dist/"]
    F -->|/api/| B
```

å‰ç«¯æ”¾åœ¨ `okx-bot/frontend/` å†…éƒ¨ï¼Œæ„å»ºå Nginx åŒæ—¶ä»£ç†é™æ€æ–‡ä»¶å’Œ APIã€‚

---

## åŠŸèƒ½æ¨¡å— (4 é¡µé¢)

### ğŸ“Š Dashboard (ä»ªè¡¨ç›˜)
- æœºå™¨äººçŠ¶æ€å¡ç‰‡ï¼ˆè¿è¡Œ/æš‚åœ/åœæ­¢ï¼‰
- è´¦æˆ·ä½™é¢ + æ”¶ç›Šæ›²çº¿ (Recharts Area Chart)
- å½“å‰æŒä»“åˆ—è¡¨
- æœ€è¿‘äº¤æ˜“è®°å½•è¡¨æ ¼
- **æš‚åœ/ç»ˆæ­¢æŒ‰é’®**

### âš™ï¸ Parameters (å‚æ•°æ§åˆ¶)
- MA ç­–ç•¥å‚æ•°è¡¨å•ï¼ˆæ»‘å— + æ•°å­—è¾“å…¥ï¼‰
  - å‡çº¿å‘¨æœŸã€å¯†é›†æ£€æµ‹ã€çªç ´ç¡®è®¤ã€ATR ä¹˜æ•°ã€ç›ˆäºæ¯”ã€é£é™©æ¯”
- å‚æ•°é¢„è®¾ï¼ˆä¿å®ˆ/å¹³è¡¡/æ¿€è¿›ï¼‰
- å®æ—¶ä¿å­˜ â†’ `POST /api/config`

### ğŸ“ˆ Backtest (å›æµ‹é¢æ¿)
- é€‰æ‹©äº¤æ˜“å¯¹ã€æ—¶é—´èŒƒå›´
- ä¸€é”®å›æµ‹ â†’ `POST /api/backtest`
- ç»“æœå±•ç¤ºï¼šæ”¶ç›Šç‡ã€èƒœç‡ã€æœ€å¤§å›æ’¤
- ä½™é¢æ›²çº¿å›¾
- ä¼˜åŒ–ç»“æœ CSV æŸ¥çœ‹

### ğŸ“‹ Logs (æ—¥å¿—)
- å®æ—¶æ—¥å¿—æµï¼ˆè½®è¯¢ `/api/logs`ï¼‰
- çº§åˆ«ç­›é€‰ï¼ˆINFO/WARNING/ERRORï¼‰

---

## Proposed Changes

### Bot ç«¯ API å¢å¼º

#### [MODIFY] [server.py](file:///c:/Users/sww/Desktop/project/okx-bot/src/web/server.py)
- æ·»åŠ  CORS æ”¯æŒ
- `GET /api/positions` â€” å½“å‰æŒä»“
- `POST /api/action` â€” å¢åŠ  [pause](file:///c:/Users/sww/Desktop/project/okx-bot/src/core/ma_trade.py#46-50) / `resume` åŠ¨ä½œ
- `GET /api/trades` â€” æœ€è¿‘äº¤æ˜“
- `POST /api/backtest` â€” è§¦å‘å›æµ‹
- `GET /api/backtest/results` â€” å›æµ‹ç»“æœåˆ—è¡¨

### å‰ç«¯é¡¹ç›®

#### [NEW] `frontend/` ç›®å½•
```
frontend/
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.jsx
â”‚   â”œâ”€â”€ App.jsx
â”‚   â”œâ”€â”€ index.css          # è®¾è®¡ç³»ç»Ÿ CSS å˜é‡
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx
â”‚   â”‚   â”œâ”€â”€ StatusCard.jsx
â”‚   â”‚   â”œâ”€â”€ ParamSlider.jsx
â”‚   â”‚   â””â”€â”€ TradeTable.jsx
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ Dashboard.jsx
â”‚       â”œâ”€â”€ Parameters.jsx
â”‚       â”œâ”€â”€ Backtest.jsx
â”‚       â””â”€â”€ Logs.jsx
```

**ä¾èµ–**ï¼šreact, react-dom, react-router-dom, recharts, lucide-react

---

## å®æ–½é¡ºåº

1. `npx create-vite frontend --template react` åˆå§‹åŒ–
2. å»ºç«‹è®¾è®¡ç³»ç»Ÿ (`index.css` + CSS å˜é‡)
3. æ„å»ºå¸ƒå±€éª¨æ¶ (Sidebar + Router)
4. å®ç° Dashboard é¡µé¢
5. å®ç° Parameters é¡µé¢
6. å®ç° Backtest é¡µé¢
7. å®ç° Logs é¡µé¢
8. å¢å¼º [server.py](file:///c:/Users/sww/Desktop/project/okx-bot/src/web/server.py) API
9. è”è°ƒæµ‹è¯•
10. Nginx éƒ¨ç½²é…ç½®

---

## éƒ¨ç½²æ–¹æ¡ˆ

```bash
# æ„å»ºå‰ç«¯
cd frontend && npm run build

# Nginx é…ç½®
location / {
    root /www/wwwroot/trading/okx-bot/frontend/dist;
    try_files $uri /index.html;
}
location /api/ {
    proxy_pass http://127.0.0.1:58181;
}
```
